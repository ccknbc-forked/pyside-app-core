#!/usr/bin/env bash

set -e

__repo=$(cd "$(dirname "${BASH_SOURCE[0]}")/.." && pwd)

if [[ -z $VIRTUAL_ENV && -z $CI ]]; then
  echo "Please create or activate a virtual environment for development
  $ python3 -m venv .venv
  $ source .venv/bin/activate"
  exit 1
fi

pushd "$__repo" > /dev/null

echo "Setup Development Environment..."

python3 -m pip install -q -U pip wheel setuptools build twine

pip install -e ".[dev]"

pre-commit install

echo "Done."

popd > /dev/null